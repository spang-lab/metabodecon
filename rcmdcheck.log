❯ checking examples ... ERROR
  Running examples in 'metabodecon-Ex.R' failed
  The error most likely occurred in:

  > base::assign(".ptime", proc.time(), pos = "CheckExEnv")
  > ### Name: convert
  > ### Title: Convert to a Metabodecon Class
  > ### Aliases: convert as_spectrum as_gspec as_gdecon as_decon1 as_spectra
  > ###   as_gspecs as_gdecons as_decons1 as_decons2
  >
  > ### ** Examples
  >
  > dirpath <- metabodecon_file("sim_subset")
  > spectra <- read_spectra(dirpath)
  > gspecs <- as_gspecs(spectra)
  > gdecons <- deconvolute_gspecs(gspecs)
  Error in deconvolute_gspecs(gspecs) :
    could not find function "deconvolute_gspecs"
  Execution halted
❯ checking tests ...
  See below...
❯ checking for unstated dependencies in 'tests' ... WARNING
  '::' or ':::' import not declared from: 'withr'
❯ checking top-level files ... NOTE
  Non-standard file/directory found at top level:
    'rcmdcheck.log'
── Test failures ────────────────────────────────────────────────────────────────────────────────────────────────────────────── testthat ────
> # This file is part of the standard setup for testthat.
> # It is recommended that you do not modify it.
> #
> # Where should you do additional test configuration?
> # Learn more about the roles of various files in:
> # * https://r-pkgs.org/testing-design.html#sec-tests-files-overview
> # * https://testthat.r-lib.org/articles/special-files.html
>
> library(testthat)
Warning message:
package 'testthat' was built under R version 4.3.3
> library(metabodecon)
>
> test_check("metabodecon")
Starting 8 test processes
[ FAIL 2 | WARN 0 | SKIP 3 | PASS 121 ]
══ Skipped tests (3) ═══════════════════════════════════════════════════════════
• Slow tests are disabled. Use `Sys.setenv(RUN_SLOW_TESTS=TRUE)` or
  `run_tests(all=TRUE)` to enable. (3): 'test-read_spectrum.R:17:1',
  'test-download_example_datasets.R:11:1', 'test-cache_example_datasets.R:13:1'
══ Failed tests ════════════════════════════════════════════════════════════════
── Error ('test-deconvolute.R:17:5'): deconvolute_gspecs works ─────────────────
Error in `eval(code, test_env)`: object 'x' not found
Backtrace:
    ▆
 1. └─testthat::expect_equal(length(obj), length(x)) at test-deconvolute.R:17:5
 2.   └─testthat::quasi_label(enquo(expected), expected.label, arg = "expected")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-speaq_align.R:21:5'): speaq_align is backwards compatible to speaq_align_original ──
Error in `eval(code, test_env)`: object 'feat_mat' not found
Backtrace:
    ▆
 1. └─metabodecon:::speaq_align_original(...) at test-speaq_align.R:21:5
 2.   └─speaq::findRef(feat$peakList)
 3.     └─base::matrix(data = NA, ncol = length(peakList), nrow = length(peakList))
[ FAIL 2 | WARN 0 | SKIP 3 | PASS 121 ]
Error: Test failures
Execution halted
2 errors ✖ | 1 warning ✖ | 1 note ✖
